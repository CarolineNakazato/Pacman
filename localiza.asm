TITLE LOCALIZA
.MODEL SMALL
.STACK 100H
.DATA

MSG DB 0DH,0AH,"O QUE VC DESEJA FAZER?",0DH,0AH,'$'
MSG_INVALIDO DB 0DH,0AH,"POSICAO INVALIDA",0DH,0AH,'$'
MSG_OK DB 0DH,0AH,"OK",0DH,0AH,'$'

LABIRINTO DB 0,1,1,0,0,1,1,1,1 ;3x3
;011
;001
;111

POSICAO_COLUNA DB 0
POSICAO_LINHA  DB 0

MOVIMENTO DB ?

.CODE
MOV AX,@DATA
MOV DS, AX

INICIO:
;Printa o MENU
MOV AH,09H
LEA DX,MSG
INT 21H

MOV AH,1
INT 21H
MOV MOVIMENTO, AL

XOR AH,AH
MOV AL,POSICAO_COLUNA
MOV BL,POSICAO_LINHA

MOV CL,MOVIMENTO
CMP CL,'D'
JE DIREITA
CMP CL,'E'
JE ESQUERDA
CMP CL,'C'
JE PARA_CIMA
CMP CL,'B'
JE PARA_BAIXO
CMP CL,'S'
JE SAIR

JMP INVALIDO

;ANDA PARA ESQUERDA
ESQUERDA:
ADD AL,1
JMP VERIFICA

DIREITA:
SUB AL,1
JMP VERIFICA

PARA_CIMA:
ADD BL,1
MUL BL
JMP VERIFICA

PARA_BAIXO:
SUB BL,1
MUL BL

VERIFICA:
CMP AL,3
JGE INVALIDO ;SE COLUNA FOR MAIOR QUE 3 EXIBE MSG

CMP AL,0
JL INVALIDO ;SE COLUNA FOR MENOR QUE 0 EXIBE MSG

CMP BL,3
JGE INVALIDO ;SE LINHA FOR MAIOR QUE 3 EXIBE MSG

CMP BL,0
JL INVALIDO ;SE LINHA FOR MENOR QUE 0 EXIBE MSG


MOV AH,09H
LEA DX,MSG_OK
INT 21H

JMP SAIR

INVALIDO:
MOV AH,09H
LEA DX,MSG_INVALIDO
INT 21H

JMP INICIO

SAIR: 
MOV AH,4CH
INT 21H
END
